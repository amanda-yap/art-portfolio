---
import Layout from '../../layouts/Layout.astro';
import { exhibitions } from '../../data/exhibitions';
import { Image } from 'astro:assets';

export async function getStaticPaths() {
	// Map each exhibition to a path
	return exhibitions.map(ex => ({
		params: { slug: ex.slug },
		props: { exhibition: ex } 
	}));
}

const { exhibition } = Astro.props;
---
<Layout>
    <main class="mx-auto p-2 lg:p-6">
		<h1 class="text-3xl font-semibold mb-4 mt-4">{exhibition.title}</h1>
		<h3 class="italic text-stone-500">{exhibition.location}</h3>
		<h3 class="text-stone-500">{exhibition.date}</h3>

		{exhibition.description.map((desc) => (
			<p class="mt-6 mb-6">{desc}</p>
		))}

		<div class="grid gap-6 grid-cols-1 md:grid-cols-2 mt-12">
			{exhibition.images.map((image) => (
				<div class="flex flex-col mb-4">
					<Image
						src={image.src}
						alt={exhibition.title}
						class="w-full"
					/>
					<p class="mt-2 text-sm text-stone-500">
						{image.description}
					</p>
				</div>
			))}
		</div>
    </main>
</Layout>